(function(t){function a(a){for(var e,h,o=a[0],r=a[1],d=a[2],u=0,c=[];u<o.length;u++)h=o[u],Object.prototype.hasOwnProperty.call(s,h)&&s[h]&&c.push(s[h][0]),s[h]=0;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);l&&l(a);while(c.length)c.shift()();return n.push.apply(n,d||[]),i()}function i(){for(var t,a=0;a<n.length;a++){for(var i=n[a],e=!0,o=1;o<i.length;o++){var r=i[o];0!==s[r]&&(e=!1)}e&&(n.splice(a--,1),t=h(h.s=i[0]))}return t}var e={},s={app:0},n=[];function h(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,h),i.l=!0,i.exports}h.m=t,h.c=e,h.d=function(t,a,i){h.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:i})},h.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},h.t=function(t,a){if(1&a&&(t=h(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(h.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)h.d(i,e,function(a){return t[a]}.bind(null,e));return i},h.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return h.d(a,"a",a),a},h.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},h.p="/flag/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=a,o=o.slice();for(var d=0;d<o.length;d++)a(o[d]);var l=r;n.push([0,"chunk-vendors"]),i()})({0:function(t,a,i){t.exports=i("56d7")},2395:function(t,a,i){},4037:function(t,a,i){t.exports=i.p+"img/huhu.ac8199b2.png"},"4b48":function(t,a,i){t.exports=i.p+"img/yellowstar.c32b144e.png"},"56d7":function(t,a,i){"use strict";i.r(a);i("e260"),i("e6cf"),i("cca6"),i("a79d");var e=i("2b0e"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"bg",attrs:{id:"bg"}}),e("div",{staticClass:"content"},[e("div",{staticClass:"danmu"},[e("vue-baberrage",{attrs:{isShow:t.barrageIsShow,barrageList:t.barrageList,maxWordCount:40,loop:t.barrageLoop},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"content"},[t._v(" "+t._s(a.item.msg)+" ")])]}}])})],1),e("div",{staticClass:"logo-wrap"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}]},[e("img",{staticClass:"logo",attrs:{src:i("aaaf")}}),e("canvas",{staticClass:"canvas",attrs:{width:"750",height:"720",id:"starCanvas"}})])]),t._m(0),e("div",{staticClass:"btn-wrap"},[e("div",{staticClass:"btn",on:{click:t.btnFlashClick}},[e("div",{staticClass:"txt"},[t._v("我的FLAG")])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.modalShow,expression:"modalShow"}],staticClass:"modal"},[e("div",{staticClass:"dialog"},[e("div",{staticClass:"title"},[t._v("部门")]),e("div",{staticClass:"wrap"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.Company,expression:"form.Company"}],staticClass:"select",attrs:{disabled:!t.btnFlashShow},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.form,"Company",a.target.multiple?i:i[0])},function(a){return t.departChange(a)}]}},t._l(t.departOptions,(function(a,i){return e("option",{key:i,domProps:{value:a.value}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e("div",{staticClass:"title"},[t._v("姓名")]),e("div",{staticClass:"wrap"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.Name,expression:"form.Name"}],staticClass:"name",attrs:{disabled:!t.btnFlashShow,placeholder:"请填写您的姓名",type:"text"},domProps:{value:t.form.Name},on:{input:function(a){a.target.composing||t.$set(t.form,"Name",a.target.value)}}})]),e("div",{staticClass:"title"},[t._v("目标")]),e("div",{staticClass:"wrap"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.FlagContent,expression:"form.FlagContent"}],staticClass:"mubiao",attrs:{disabled:!t.btnFlashShow,placeholder:"请填写20个字以内"},domProps:{value:t.form.FlagContent},on:{input:function(a){a.target.composing||t.$set(t.form,"FlagContent",a.target.value)}}})]),t.btnFlashShow?e("div",{staticClass:"btn-wrap"},[e("div",{staticClass:"btn",on:{click:t.save}},[e("div",{staticClass:"txt"},[t._v("提交")])])]):t._e(),t.btnFlashShow?t._e():e("div",{staticClass:"btn-wrap"},[e("div",{staticClass:"btn",on:{click:t.modalClose}},[e("div",{staticClass:"txt"},[t._v("关闭")])])])])])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"flag"},[e("img",{staticClass:"img",attrs:{src:i("4037")}})])}],h=(i("d3b7"),i("159b"),i("4ec9"),i("3ca3"),i("ddb0"),i("d81d"),i("25f0"),i("498a"),i("1188")),o=i("bc3a"),r=i.n(o);function d(){var t="";switch("production"){case"production":t="http://zfsc-manage.hzdsinfo.com/Flag";break;case"development":t="api/";break;default:t="api/"}return t}var l=r.a.create({baseURL:d()}),u=l,c=[{id:1,status:!1,x:420,y:0,width:90,height:90},{id:2,status:!1,x:20,y:280,width:90,height:90},{id:3,status:!1,x:515,y:205,width:90,height:90},{id:4,status:!1,x:60,y:380,width:40,height:40},{id:5,status:!1,x:90,y:380,width:40,height:40},{id:6,status:!1,x:90,y:490,width:40,height:40},{id:7,status:!1,x:90,y:530,width:40,height:40},{id:8,status:!1,x:110,y:530,width:40,height:40},{id:9,status:!1,x:60,y:530,width:40,height:40},{id:10,status:!1,x:50,y:430,width:40,height:40},{id:11,status:!1,x:70,y:330,width:40,height:40},{id:12,status:!1,x:100,y:330,width:40,height:40},{id:13,status:!1,x:80,y:400,width:40,height:40},{id:14,status:!1,x:80,y:450,width:40,height:40},{id:15,status:!1,x:70,y:480,width:40,height:40},{id:16,status:!1,x:55,y:630,width:40,height:40},{id:17,status:!1,x:55,y:580,width:40,height:40},{id:18,status:!1,x:90,y:590,width:40,height:40},{id:19,status:!1,x:120,y:590,width:40,height:40},{id:20,status:!1,x:120,y:640,width:40,height:40},{id:21,status:!1,x:90,y:640,width:40,height:40},{id:22,status:!1,x:140,y:590,width:40,height:40},{id:23,status:!1,x:130,y:540,width:40,height:40},{id:24,status:!1,x:110,y:440,width:40,height:40},{id:25,status:!1,x:110,y:400,width:40,height:40},{id:26,status:!1,x:120,y:490,width:40,height:40},{id:27,status:!1,x:140,y:390,width:40,height:40},{id:28,status:!1,x:140,y:290,width:40,height:40},{id:29,status:!1,x:140,y:440,width:40,height:40},{id:30,status:!1,x:190,y:340,width:40,height:40},{id:31,status:!1,x:160,y:340,width:40,height:40},{id:32,status:!1,x:140,y:340,width:35,height:35},{id:33,status:!1,x:290,y:340,width:35,height:35},{id:34,status:!1,x:140,y:370,width:35,height:35},{id:35,status:!1,x:240,y:340,width:35,height:35},{id:36,status:!1,x:240,y:540,width:35,height:35},{id:37,status:!1,x:240,y:440,width:35,height:35},{id:38,status:!1,x:450,y:140,width:40,height:40},{id:39,status:!1,x:470,y:150,width:40,height:40},{id:40,status:!1,x:490,y:160,width:40,height:40},{id:41,status:!1,x:590,y:160,width:40,height:40},{id:42,status:!1,x:590,y:190,width:40,height:40},{id:43,status:!1,x:590,y:210,width:40,height:40},{id:44,status:!1,x:390,y:210,width:40,height:40},{id:45,status:!1,x:290,y:210,width:40,height:40},{id:46,status:!1,x:240,y:210,width:40,height:40},{id:47,status:!1,x:270,y:210,width:40,height:40},{id:48,status:!1,x:270,y:250,width:40,height:40},{id:49,status:!1,x:270,y:290,width:40,height:40},{id:50,status:!1,x:250,y:290,width:40,height:40},{id:51,status:!1,x:250,y:390,width:40,height:40},{id:52,status:!1,x:280,y:380,width:40,height:40},{id:53,status:!1,x:180,y:380,width:40,height:40},{id:54,status:!1,x:180,y:480,width:40,height:40},{id:55,status:!1,x:200,y:480,width:40,height:40},{id:56,status:!1,x:230,y:480,width:40,height:40},{id:57,status:!1,x:290,y:480,width:40,height:40},{id:58,status:!1,x:310,y:480,width:40,height:40},{id:59,status:!1,x:310,y:460,width:40,height:40},{id:60,status:!1,x:310,y:180,width:40,height:40},{id:61,status:!1,x:360,y:180,width:40,height:40},{id:62,status:!1,x:360,y:280,width:40,height:40},{id:63,status:!1,x:360,y:320,width:40,height:40},{id:64,status:!1,x:380,y:330,width:40,height:40},{id:65,status:!1,x:390,y:340,width:40,height:40},{id:66,status:!1,x:410,y:340,width:40,height:40},{id:67,status:!1,x:410,y:360,width:40,height:40},{id:68,status:!1,x:320,y:330,width:40,height:40},{id:69,status:!1,x:340,y:330,width:40,height:40},{id:70,status:!1,x:320,y:430,width:40,height:40},{id:71,status:!1,x:280,y:410,width:40,height:40},{id:72,status:!1,x:290,y:420,width:40,height:40},{id:73,status:!1,x:290,y:450,width:40,height:40},{id:74,status:!1,x:260,y:450,width:40,height:40}],g=c,p=i("fa00"),m=i.n(p),f=i("4b48"),w=i.n(f),y=i("86d5"),v=i.n(y),x=i("b046"),C={name:"App",data:function(){return{pageShow:!0,barrageIsShow:!0,barrageList:[],barrageLoop:!0,modalShow:!1,canvasObj:null,canvasCtx:null,greenStarImg:m.a,form:{Company:"",Name:"",FlagContent:""},departOptions:[],tempId:0,localStars:g,interId:0,btnFlashShow:!1}},components:{},mounted:function(){this.initBg(),this.initStatus(),this.initDeparts(),this.initCanvas(),this.initDatas()},methods:{initStatus:function(){var t=this,a=localStorage.getItem("personxh");if(a){var i=new FormData;i.set("Xh",a),u.post("/GetStatusByXh",i).then((function(a){var i=a.data;1===i.Code&&0===i.Status&&(t.btnFlashShow=!0)})).catch((function(t){console.log("err",t)}))}else this.btnFlashShow=!0},initCanvas:function(){var t=document.getElementById("starCanvas"),a=t.getContext("2d");this.canvasObj=t,this.canvasCtx=a},initDeparts:function(){var t=this;Array.isArray(x)&&x.forEach((function(a){t.departOptions.push({name:a,value:a})}))},initBg:function(){var t=this,a=new Image;a.src=v.a,a.onload=function(){t.pageShow=!0,t.barrageIsShow=!0}},departChange:function(t){this.form.Company=t.target.value},addToList:function(t,a){var i=0;a.length<5&&(i=30),a.length>=5&&a.length<10&&(i=60),a.length>=10&&a.length<15&&(i=80),a.length>=15&&a.length<20&&(i=100),this.barrageList.push({id:t,msg:a,time:5,type:h["MESSAGE_TYPE"].NORMAL,extraWidth:i})},initDatas:function(){var t=this;u.get("/GetChat").then((function(a){var i=a.data,e=new Map;i.datas.forEach((function(a){e.set(a.Xh,a.FlagContent),t.addToList(a.Xh,a.FlagContent)})),t.localStars=t.localStars.map((function(t){return e.has(t.id.toString())&&(t.status=!0),t})),t.drawStars()})).catch((function(t){console.log("err",t)}))},modalClose:function(){this.modalShow=!1},drawStars:function(){var t=this,a=localStorage.getItem("personxh");this.canvasCtx.clearRect(0,0,750,720),this.localStars.forEach((function(i){var e=new Image;!0===i.status&&(a===i.id.toString()?(e.src=w.a,e.onload=function(){t.canvasCtx.drawImage(e,i.x,i.y,i.width,i.height)}):(e.src=m.a,e.onload=function(){t.canvasCtx.drawImage(e,i.x,i.y,i.width,i.height)}))}))},reDrawStars:function(t){this.localStars=this.localStars.map((function(a){return a.id===t&&(a.status=!0),a})),this.drawStars()},btnFlashClick:function(){this.modalShow=!0,this.form.Company=localStorage.getItem("Company"),this.form.Name=localStorage.getItem("Name"),this.form.FlagContent=localStorage.getItem("FlagContent")},save:function(){var t=this;if(""!==this.form.Company.trim())if(""!==this.form.Name.trim())if(""!==this.form.FlagContent.trim())if(this.form.FlagContent.length>20)alert("请填写20个字以内");else{var a=new FormData;a.append("Company",this.form.Company),a.append("Name",this.form.Name),a.append("FlagContent",this.form.FlagContent),u.post("/UpdateFlag",a).then((function(a){var i=a.data;if(1===i.Code){var e=i.Xh;t.btnFlashShow=!1,localStorage.setItem("personxh",e),localStorage.setItem("Company",t.form.Company),localStorage.setItem("Name",t.form.Name),localStorage.setItem("FlagContent",t.form.FlagContent),t.addToList(e,t.form.FlagContent),t.reDrawStars(e)}else alert(i.Msg)})).catch((function(t){console.log("err",t)})).finally((function(){t.modalShow=!1}))}else alert("请填写您的目标");else alert("请填写您的姓名");else alert("请填写您的部门")}}},b=C,S=(i("7c55"),i("2877")),F=Object(S["a"])(b,s,n,!1,null,null,null),_=F.exports;e["a"].use(h["vueBaberrage"]),e["a"].config.productionTip=!1,new e["a"]({render:function(t){return t(_)}}).$mount("#app")},"7c55":function(t,a,i){"use strict";i("2395")},"86d5":function(t,a,i){t.exports=i.p+"img/bg.f6b6a479.jpg"},aaaf:function(t,a,i){t.exports=i.p+"img/3flogo.c6f781b5.png"},b046:function(t){t.exports=JSON.parse('["公司领导","战略咨询委员会","浙外人力管理层","财务中心","党委办公室兼任市场部","党委办公室","市场部","风险管控部","人力资源部","信息技术部","行政部","工会委员会","出国服务中心","猎聘中心","国际教育培训中心","国际贸易分公司","文化传播","杭州分公司"]')},fa00:function(t,a,i){t.exports=i.p+"img/greenstar.1e08b2a2.png"}});
//# sourceMappingURL=app.aa3fbce6.js.map